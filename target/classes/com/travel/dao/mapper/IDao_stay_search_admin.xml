<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<!-- (namespace) 인터페이스 경로 -->
<mapper namespace="com.travel.dao.admin.IDao_stay_search_admin">
	<!-- 신재환 / 관리자 -> 등록된 숙소 리스트 -->
	
	<sql id="search_list">
		<if test="param2 == 0">
			<if test="param1 == 0">
				
			</if>
			<if test="param1 != 0">
				WHERE S_LOCA = #{param1}
			</if>
		</if>
		
	
		<if test="param2 == 1">
			<if test="param1 == 0">
				WHERE S_TYPE = #{param2}
			</if>
			<if test="param1 != 0">
				WHERE S_LOCA = #{param1}
				AND S_TYPE = #{param2}
			</if>
		</if>
		
	
		<if test="param2 == 2">
			<if test="param1 == 0">
				WHERE S_TYPE = #{param2}
			</if>
			<if test="param1 != 0">
				WHERE S_LOCA = #{param1}
				AND S_TYPE = #{param2}
			</if>
		</if>
		
	
		<if test="param2 == 3">
			<if test="param1 == 0">
				WHERE S_TYPE = #{param2}
			</if>
			<if test="param1 != 0">
				WHERE S_LOCA = #{param1}
				AND S_TYPE = #{param2}
			</if>
		</if>
	</sql>
	
	<select id="search_result" resultType="com.travel.dto.admin.DTO_Stay_admin">
		SELECT S_NO,S_NAME,S_LOCA,S_RATE
		FROM TMSTSTAY
		<include refid="search_list"></include>
		ORDER BY S_NO DESC
	</select>
		
	</mapper>